<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Score808 Stream Viewer</title>

<style>
*{margin:0;padding:0;box-sizing:border-box}

body{
font-family:system-ui,-apple-system,Segoe UI;
background:#020617;
color:#fff;
}

/* ===== LAYOUT ===== */
.container{
max-width:1400px;
margin:auto;
padding:12px;
display:grid;
grid-template-columns:2fr 1fr;
gap:18px;
}

/* MOBILE */
@media(max-width:900px){
.container{grid-template-columns:1fr}
}

/* ===== VIDEO AREA ===== */
.video-wrapper{
position:relative;
width:100%;
aspect-ratio:16/9;
background:#000;
border-radius:12px;
overflow:hidden;
transition:.3s;
}

iframe{
width:100%;
height:100%;
border:none;
}

/* MINI PLAYER MODE */
.video-wrapper.mini{
position:fixed;
width:320px;
height:180px;
bottom:20px;
right:20px;
z-index:9999;
border-radius:12px;
box-shadow:0 8px 30px rgba(0,0,0,.6);
}

/* ===== LOADER ===== */
.loader{
position:absolute;
top:50%;
left:50%;
width:50px;
height:50px;
border:5px solid #38bdf8;
border-top-color:transparent;
border-radius:50%;
animation:spin 1s linear infinite;
transform:translate(-50%,-50%);
z-index:2;
}

.loader-text{
position:absolute;
top:calc(50% + 40px);
left:50%;
transform:translateX(-50%);
font-size:14px;
color:#38bdf8;
}

.hidden{display:none}

@keyframes spin{
to{transform:translate(-50%,-50%) rotate(360deg)}
}

/* ===== CARD ===== */
.card{
background:#0f172a;
padding:16px;
border-radius:14px;
margin-bottom:14px;
box-shadow:0 4px 14px rgba(0,0,0,.4);
}

.card h3{
font-size:15px;
margin-bottom:8px;
color:#facc15;
}

.card p{
font-size:13px;
opacity:.7;
}

/* DESKTOP SIDEBAR */
.sidebar{
position:sticky;
top:12px;
height:fit-content;
}

</style>
</head>

<body>

<div class="container">

<div>

<div id="videoBox" class="video-wrapper">
<div id="loader" class="loader"></div>
<div id="loader-text" class="loader-text">Memuat Streaming...</div>
<iframe id="view" allowfullscreen></iframe>
</div>

<div class="card">
<h3>Info Pertandingan</h3>
<p>Deskripsi pertandingan atau statistik.</p>
</div>

<div class="card">
<h3>Highlight</h3>
<p>Konten tambahan di bawah video.</p>
</div>

<div style="height:1200px"></div>

</div>

<div class="sidebar">

<div class="card">
<h3>Rekomendasi Match</h3>
<p>Card kosong seperti aplikasi Vidio.</p>
</div>

<div class="card">
<h3>Live Sekarang</h3>
<p>List pertandingan live.</p>
</div>

</div>

</div>

<script>
const videoBox=document.getElementById("videoBox");

/* MINI PLAYER SCROLL */
window.addEventListener("scroll",()=>{
const rect=videoBox.getBoundingClientRect();
if(rect.bottom<0){
videoBox.classList.add("mini");
}else{
videoBox.classList.remove("mini");
}
});

/* STREAM LOAD */
function getQueryVariable(variable){
var query=window.location.search.substring(1);
var vars=query.split("@");
for(var i=0;i<vars.length;i++){
var pair=vars[i].split("+");
if(pair[0]==variable){return pair[1]}
}
return false;
}

function base64Decode(str){
try{return decodeURIComponent(escape(atob(str)));}
catch(e){return null;}
}

function hideLoader(){
document.getElementById('loader').classList.add('hidden');
document.getElementById('loader-text').classList.add('hidden');
}

window.onload=function(){
const encodedUrl=getQueryVariable("url");
if(encodedUrl){
const url=base64Decode(encodedUrl);
if(url){
const iframe=document.getElementById('view');
iframe.src=url;
iframe.onload=hideLoader;
}else{
hideLoader();
}
}else{
hideLoader();
}
};
</script>

</body>
</html>
